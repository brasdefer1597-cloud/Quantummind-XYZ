<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CHALAMANDRA Popup</title>
    <!-- Tailwind CSS CDN para un estilo rápido y moderno -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            width: 320px; /* Tamaño fijo para el pop-up */
            min-height: 400px;
            font-family: 'Inter', sans-serif;
            background-color: #0c0a09; /* slate-950 */
            color: #e2e8f0; /* slate-200 */
            padding: 0;
            margin: 0;
        }
        .text-gradient {
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
            background-image: linear-gradient(to right, #fb923c, #a78bfa); /* orange-400 to purple-400 */
        }
    </style>
</head>
<body>
    <div id="app" class="p-4">
        <header class="flex items-center justify-between mb-4 border-b border-gray-800 pb-3">
            <h1 class="text-xl font-bold text-gradient">CHALAMANDRA</h1>
            <div id="status-indicator" class="flex items-center space-x-1 text-xs">
                <span class="font-medium" id="status-text">Listo</span>
                <span class="w-2 h-2 rounded-full bg-green-500 animate-pulse" id="status-dot"></span>
            </div>
        </header>

        <div id="input-section" class="mb-4">
            <label for="user-input" class="block text-sm font-medium mb-2 text-gray-300">Tema a Analizar</label>
            <textarea id="user-input" rows="4" placeholder="Ej: 'Cómo lanzar un producto de software en un mercado saturado.'" class="w-full p-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-orange-500 resize-none"></textarea>
            
            <button id="ignite-button" class="mt-3 w-full px-4 py-2 bg-gradient-to-r from-orange-600 to-purple-600 hover:from-orange-500 hover:to-purple-500 text-white font-semibold rounded-lg transition-all disabled:opacity-50">
                Encender Motor Dialéctico
            </button>
            <button id="content-script-button" class="mt-2 w-full px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white font-semibold rounded-lg transition-all text-sm">
                Analizar Contenido de la Página
            </button>
        </div>

        <div id="results-section" class="hidden">
            <h2 class="text-lg font-semibold mb-2 text-purple-400">Síntesis (Fresa)</h2>
            <div id="synthesis-output" class="p-3 bg-gray-900 border border-purple-700 rounded-lg text-sm mb-4 whitespace-pre-wrap"></div>
            
            <details class="mb-3">
                <summary class="text-sm font-medium cursor-pointer text-orange-400 hover:text-orange-300">Ver Debate (CHOLA vs MALANDRA)</summary>
                <div id="debate-output" class="mt-2 p-3 bg-gray-900 border border-gray-700 rounded-lg text-xs whitespace-pre-wrap"></div>
            </details>

            <button id="reset-button" class="w-full px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white font-semibold rounded-lg transition-all text-sm">
                Reiniciar
            </button>
        </div>

        <div id="error-message" class="hidden p-3 bg-red-900/50 border border-red-700 text-red-300 rounded-lg text-sm mt-4"></div>

    </div>
    <script src="popup.js"></script>
</body>
</html>
